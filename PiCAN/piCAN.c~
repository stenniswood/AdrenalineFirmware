#include <stdio.h>
#include <string.h>
#include "protocol.h"
#include "devices.h"
#include "AudioToolbox/AudioToolbox.h"

#define BOOL char
#define BYTE unsigned char

/************ VARIABLES & CONSTANTS ****************************/
struct WAVE_HEADER audio_hdr;
FILE*  wave_file;
long   TotalAudioDataLengthBytes = 0;	// Holds total accumulated over all frames received.



int main()
{
	AUDIO_SetupRecorder();
	init_audio_hdr();
	AUDIO_StartRecord();
	OpenAudioFile( "./BK_my_recording.wav");
	int i=0;
	while (i++<5)
	{
		printf("Recording...\n");
		sleep(1);
	}
	AUDIO_CloseRecorder();
	CloseAudioFile();	
	
}

